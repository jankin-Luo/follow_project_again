2025-11-06 22:01:38,370 - conftest.py:9 - [conftest:clear_extact_data] - common.recordlog - INFO - ------------开始清理extract.yaml------------------
2025-11-06 22:01:38,370 - conftest.py:15 - [conftest:fixture_test] - common.recordlog - INFO - -------------这是pytest前后置主要的处理方式--------------
2025-11-06 22:01:38,372 - sendrequests.py:54 - [sendrequests:run_main] - common.recordlog - INFO - 接口名称：新增用户
2025-11-06 22:01:38,372 - sendrequests.py:55 - [sendrequests:run_main] - common.recordlog - INFO - 接口请求地址：http://127.0.0.1:8787/dar/user/addUser
2025-11-06 22:01:38,372 - sendrequests.py:56 - [sendrequests:run_main] - common.recordlog - INFO - 请求方法：POST
2025-11-06 22:01:38,372 - sendrequests.py:57 - [sendrequests:run_main] - common.recordlog - INFO - 测试用例名称：正常新增用户
2025-11-06 22:01:38,372 - sendrequests.py:58 - [sendrequests:run_main] - common.recordlog - INFO - 请求头：{'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'}
2025-11-06 22:01:38,372 - sendrequests.py:59 - [sendrequests:run_main] - common.recordlog - INFO - Cookies：None
2025-11-06 22:01:38,372 - sendrequests.py:62 - [sendrequests:run_main] - common.recordlog - INFO - 请求参数:{'data': {'username': 'testadduser', 'password': 'tset6789890', 'role_id': 123456789, 'dates': '2023-12-31', 'phone': 13800000000, 'token': 'None'}}
2025-11-06 22:01:38,379 - sendrequests.py:31 - [sendrequests:send_request] - common.recordlog - INFO - 接口的实际返回信息{
  "msg": "新增失败",
  "msg_code": 9001
}

2025-11-06 22:01:38,379 - assertions.py:46 - [assertions:contains_assert] - common.recordlog - ERROR - 预期结果：新增成功
,实际结果:新增失败，响应文本断言结果:失败
2025-11-06 22:01:38,380 - assertions.py:151 - [assertions:assert_result] - common.recordlog - ERROR - 测试失败
2025-11-06 22:01:38,380 - assertions.py:152 - [assertions:assert_result] - common.recordlog - ERROR - 异常信息
2025-11-06 22:01:38,380 - apiutil.py:114 - [apiutil:specification_yaml] - common.recordlog - ERROR - 
2025-11-06 22:01:38,420 - sendrequests.py:54 - [sendrequests:run_main] - common.recordlog - INFO - 接口名称：新增用户
2025-11-06 22:01:38,421 - sendrequests.py:55 - [sendrequests:run_main] - common.recordlog - INFO - 接口请求地址：http://127.0.0.1:8787/dar/user/addUser
2025-11-06 22:01:38,421 - sendrequests.py:56 - [sendrequests:run_main] - common.recordlog - INFO - 请求方法：POST
2025-11-06 22:01:38,421 - sendrequests.py:57 - [sendrequests:run_main] - common.recordlog - INFO - 测试用例名称：无效新增·缺少token
2025-11-06 22:01:38,421 - sendrequests.py:58 - [sendrequests:run_main] - common.recordlog - INFO - 请求头：{'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'}
2025-11-06 22:01:38,421 - sendrequests.py:59 - [sendrequests:run_main] - common.recordlog - INFO - Cookies：None
2025-11-06 22:01:38,421 - sendrequests.py:62 - [sendrequests:run_main] - common.recordlog - INFO - 请求参数:{'data': {'username': 'testadduser', 'password': 'tset6789890', 'role_id': 123456789, 'dates': '2023-12-31', 'phone': 13800000000, 'token': None}}
2025-11-06 22:01:38,424 - sendrequests.py:31 - [sendrequests:send_request] - common.recordlog - INFO - 接口的实际返回信息{
  "msg": "新增失败",
  "msg_code": 9001
}

2025-11-06 22:01:38,425 - assertions.py:43 - [assertions:contains_assert] - common.recordlog - INFO - 字符串包含，断言成功：预期结果：新增失败
,实际结果:新增失败
2025-11-06 22:01:38,425 - assertions.py:149 - [assertions:assert_result] - common.recordlog - INFO - 测试成功
2025-11-06 22:01:38,428 - sendrequests.py:54 - [sendrequests:run_main] - common.recordlog - INFO - 接口名称：新增用户
2025-11-06 22:01:38,428 - sendrequests.py:55 - [sendrequests:run_main] - common.recordlog - INFO - 接口请求地址：http://127.0.0.1:8787/dar/user/addUser
2025-11-06 22:01:38,429 - sendrequests.py:56 - [sendrequests:run_main] - common.recordlog - INFO - 请求方法：POST
2025-11-06 22:01:38,429 - sendrequests.py:57 - [sendrequests:run_main] - common.recordlog - INFO - 测试用例名称：无效新增·缺少必填参数username
2025-11-06 22:01:38,429 - sendrequests.py:58 - [sendrequests:run_main] - common.recordlog - INFO - 请求头：{'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'}
2025-11-06 22:01:38,429 - sendrequests.py:59 - [sendrequests:run_main] - common.recordlog - INFO - Cookies：None
2025-11-06 22:01:38,429 - sendrequests.py:62 - [sendrequests:run_main] - common.recordlog - INFO - 请求参数:{'data': {'password': 'tset6789890', 'role_id': 123456789, 'dates': '2023-12-31', 'phone': 13800000000, 'token': None}}
2025-11-06 22:01:38,431 - sendrequests.py:31 - [sendrequests:send_request] - common.recordlog - INFO - 接口的实际返回信息{
  "msg": "新增失败",
  "msg_code": 9001
}

2025-11-06 22:01:38,431 - assertions.py:43 - [assertions:contains_assert] - common.recordlog - INFO - 字符串包含，断言成功：预期结果：新增失败
,实际结果:新增失败
2025-11-06 22:01:38,431 - assertions.py:149 - [assertions:assert_result] - common.recordlog - INFO - 测试成功
2025-11-06 22:01:38,432 - conftest.py:17 - [conftest:fixture_test] - common.recordlog - INFO - ------------这是后置处理了---------------
2025-11-06 22:01:38,433 - conftest.py:15 - [conftest:fixture_test] - common.recordlog - INFO - -------------这是pytest前后置主要的处理方式--------------
2025-11-06 22:01:38,436 - conftest.py:17 - [conftest:fixture_test] - common.recordlog - INFO - ------------这是后置处理了---------------
2025-11-06 22:01:38,437 - conftest.py:15 - [conftest:fixture_test] - common.recordlog - INFO - -------------这是pytest前后置主要的处理方式--------------
2025-11-06 22:01:38,438 - sendrequests.py:54 - [sendrequests:run_main] - common.recordlog - INFO - 接口名称：获取商品列表
2025-11-06 22:01:38,438 - sendrequests.py:55 - [sendrequests:run_main] - common.recordlog - INFO - 接口请求地址：http://127.0.0.1:8787/coupApply/cms/goodsList
2025-11-06 22:01:38,438 - sendrequests.py:56 - [sendrequests:run_main] - common.recordlog - INFO - 请求方法：get
2025-11-06 22:01:38,438 - sendrequests.py:57 - [sendrequests:run_main] - common.recordlog - INFO - 测试用例名称：获取商品列表
2025-11-06 22:01:38,438 - sendrequests.py:58 - [sendrequests:run_main] - common.recordlog - INFO - 请求头：{'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8', 'token': '${get_extract_data(token)}'}
2025-11-06 22:01:38,438 - sendrequests.py:59 - [sendrequests:run_main] - common.recordlog - INFO - Cookies：{'access_token_cookie': '111eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJmcmVzaCI6ZmFsc2UsImlhdCI6MTc2MTgzNTAyMCwianRpIjoiZWY5Y2NmNWEtOTMzNi00YTBmLTljZjAtYTBiZmRiMjExZTc3IiwidHlwZSI6ImFjY2VzcyIsInN1YiI6ImV4YW1wbGVfdXNlciIsIm5iZiI6MTc2MTgzNTAyMCwiY3NyZiI6IjI2MzAwYWNiLTc1ZTMtNDI2YS05MWVhLWM1YzM5OTEzYzkzYyIsImV4cCI6MTc2MTgzNTkyMH0.y2v55ZfeXnMYqtYMcysbYYxX52losVZBT9WyHiXwrdc', 'csrf_access_token': '11126300acb-75e3-426a-91ea-c5c39913c93c'}
2025-11-06 22:01:38,438 - sendrequests.py:68 - [sendrequests:run_main] - common.recordlog - INFO - 请求参数:{'params': {'msgType': 'getHandsetListOfCust', 'page': 1, 'size': 20}}
2025-11-06 22:01:38,440 - sendrequests.py:31 - [sendrequests:send_request] - common.recordlog - INFO - 接口的实际返回信息{
  "api_info": "today:21 max:10000 all[90=21+33+36];expires:2030-12-31",
  "cache": 0,
  "error_code": "0000",
  "goodsList": [
    {
      "goodsId": "18382788819",
      "goods_count": "233",
      "goods_image": "https://omsproductionimg.yangkeduo.com/images/2017-12-12/bcf848aa71c6389607ae7a84b70f1543.jpeg",
      "goods_name": "【2件套】套装秋冬新款仿獭兔毛钉珠皮草毛毛短外套加厚大衣女装",
      "original_price": "",
      "unit_price": "￥99.00"
    },
    {
      "goodsId": "33809635011",
      "goods_count": "521",
      "goods_image": "https://omsproductionimg.yangkeduo.com/images/2017-12-12/176019babfdecffa1d9f98f40b7e99b4.jpeg",
      "goods_name": "好奇小森林心钻装纸尿裤M22拉拉裤L18/XL14超薄透气裤型尿不湿 1件装",
      "original_price": "",
      "unit_price": "￥108.00"
    },
    {
      "goodsId": "56996760797",
      "goods_count": "1181",
      "goods_image": "https://omsproductionimg.yangkeduo.com/images/2017-12-12/efb5db42397550bffd3211ca6f197498.jpeg",
      "goods_name": "冻干鸡小胸整块增肥营养发腮狗狗零食新手养猫零食幼猫零食100g",
      "original_price": "",
      "unit_price": "￥17.80"
    },
    {
      "goodsId": "82193785267",
      "goods_count": "3000+",
      "goods_image": "https://omsproductionimg.yangkeduo.com/images/2017-12-12/efb5db42397550bffd3211ca6f197498.jpeg",
      "goods_name": "【自营】ISB伊珊娜意大利水果系列宠物犬猫沐浴露除臭香波护毛素",
      "original_price": "",
      "unit_price": "￥650.00"
    },
    {
      "goodsId": "74190550836",
      "goods_count": "1000+",
      "goods_image": "https://omsproductionimg.yangkeduo.com/images/2017-12-12/efb5db42397550bffd3211ca6f197498.jpeg",
      "goods_name": "【新品零0CM嵌入式】海尔电冰箱410L家用法式四门多门官方正品",
      "original_price": "",
      "unit_price": "￥5746.00"
    }
  ],
  "reason": "",
  "request_id": "request_id",
  "secache": "c98b29872e8a4b28859db207944ba817",
  "secache_date": "2025-10-21 23:14:57",
  "secache_time": 1761059697000,
  "translate_language": "zh-CN"
}

2025-11-06 22:01:38,441 - apiutil.py:164 - [apiutil:extract_data_list] - common.recordlog - INFO - json提取到的{'goodsId': ['18382788819', '33809635011', '56996760797', '82193785267', '74190550836']}
2025-11-06 22:01:38,441 - assertions.py:43 - [assertions:contains_assert] - common.recordlog - INFO - 字符串包含，断言成功：预期结果：0000
,实际结果:0000
2025-11-06 22:01:38,442 - assertions.py:75 - [assertions:equal_assert] - common.recordlog - ERROR - 相等断言失败，接口实际结果为{}，不等于预期结果{'msg': '登录成功'}
2025-11-06 22:01:38,442 - assertions.py:151 - [assertions:assert_result] - common.recordlog - ERROR - 测试失败
2025-11-06 22:01:38,442 - assertions.py:152 - [assertions:assert_result] - common.recordlog - ERROR - 异常信息
2025-11-06 22:01:38,442 - apiutil.py:114 - [apiutil:specification_yaml] - common.recordlog - ERROR - 
2025-11-06 22:01:38,452 - conftest.py:17 - [conftest:fixture_test] - common.recordlog - INFO - ------------这是后置处理了---------------
